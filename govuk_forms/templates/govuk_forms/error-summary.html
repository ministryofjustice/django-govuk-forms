{% if non_field_errors or field_errors %}
    <div class="govuk-error-summary" aria-labelledby="error-summary-heading-{{ random_string }}" role="alert" tabindex="-1" data-module="error-summary">
        <h2 class="govuk-error-summary__title" id="error-summary-heading-{{ random_string }}">
            {{ error_summary_title }}
        </h2>
        <div class="govuk-error-summary__body">
            <ul class="govuk-list govuk-error-summary__list">
                {% for error in non_field_errors %}
                    <li class="govuk-error-summary__non-field-error">{{ error }}</li>
                {% endfor %}

                {% for field, field_errors in field_errors.items %}
                    <li class="govuk-error-summary__field-error {% if field.is_hidden %}govuk-error-summary__hidden-field-error{% endif %}">
                        <a {% if not field.is_hidden %}href="#{{ field.auto_id }}__label"{% endif %}>{{ field.label }}</a>
                        <ul>
                            {% for field_error in field_errors %}
                                <li>{{ field_error }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endif %}
